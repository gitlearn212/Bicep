param vmName string
param diskSku string
param resourceGroupName string
param location string

resource vm 'Microsoft.Compute/virtualMachines@2021-04-01' existing = {
  name: vmName
  location: location
}

resource vmDisk 'Microsoft.Compute/disks@2021-04-01' existing = {
  name: vm.storageProfile.osDisk.name
  parent: resourceGroup(resourceGroupName)
}

resource vmDisk_sku 'Microsoft.Compute/disks@2021-04-01' = {
  name: vmDisk.name
  parent: resourceGroup(resourceGroupName)
  properties: {
    sku: {
      name: diskSku
    }
  }
}